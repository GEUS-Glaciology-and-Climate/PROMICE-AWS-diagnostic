2025-09-30 09:20:43,085 [INFO] AWS(config_file=../aws-l0//tx/config/KPC_Lv3.toml, inpath=../aws-l0//tx/, data_issues_repository=../PROMICE-AWS-data-issues, var_file=None, meta_file=None)
2025-09-30 09:20:43,408 [DEBUG] Source information: {'pypromice': '1.5.1', 'l0_config_file': 'KPC_Lv3.toml:016a28db7b1c6dc223642f5fa4e0a0249a3cdac3', 'l0_data_root': '016a28db7b1c6dc223642f5fa4e0a0249a3cdac3', 'data_issues': 'd1389d62adb1864056bb11f559d4785105b56943'}
2025-09-30 09:20:43,422 [INFO] Detected L0 file type 'csv_default' for ../aws-l0/tx/KPC_Lv3_300534063819760_1.txt
2025-09-30 09:20:43,478 [INFO] L0 data successfully loaded from KPC_Lv3_300534063819760_1.txt
2025-09-30 09:20:43,482 [INFO] Level 1 processing...
2025-09-30 09:20:43,595 [INFO] Wind speed correction applied to wspd_u based on factor of 1.7
2025-09-30 09:20:43,596 [WARNING] bedrock attribute is not set
2025-09-30 09:20:43,699 [INFO] Level 2 processing...
2025-09-30 09:20:43,700 [INFO] Using file: ../PROMICE-AWS-data-issues/adjustments/KPC_Lv3.csv
2025-09-30 09:20:43,705 [INFO] Using file: ../PROMICE-AWS-data-issues/flags/KPC_Lv3.csv
2025-09-30 09:20:43,705 [INFO] No ../PROMICE-AWS-data-issues/flags/KPC_Lv3.csv file to read.
2025-09-30 09:20:43,706 [INFO] Using file: ../PROMICE-AWS-data-issues/adjustments/KPC_Lv3.csv
2025-09-30 09:20:43,713 [DEBUG] ---> None None z_boom_u max_filter 2.8
2025-09-30 09:20:43,714 [INFO] could not adjust z_ice_surf not in dataset
2025-09-30 09:20:43,718 [DEBUG] Running persistence_qc using {'t_i': {'max_diff': 0.0001, 'period': 2}, 't_u': {'max_diff': 0.0001, 'period': 2}, 't_l': {'max_diff': 0.0001, 'period': 2}, 'p_i': {'max_diff': 0.0001, 'period': 3}, 'p_u': {'max_diff': 0.0001, 'period': 150}, 'p_l': {'max_diff': 0.0001, 'period': 150}, 'gps_lat_lon': {'max_diff': 1e-06, 'period': 6}, 'gps_alt': {'max_diff': 0.0001, 'period': 6}, 't_rad': {'max_diff': 0.0001, 'period': 2}, 'rh_i': {'max_diff': 0.0001, 'period': 2}, 'rh_u': {'max_diff': 0.0001, 'period': 2}, 'rh_l': {'max_diff': 0.0001, 'period': 2}, 'wspd_i': {'max_diff': 0.0001, 'period': 6}, 'wspd_u': {'max_diff': 0.0001, 'period': 6}, 'wspd_l': {'max_diff': 0.0001, 'period': 6}}
2025-09-30 09:20:43,721 [DEBUG] Applying persistent QC in t_i. Filtering 119/5400 samples
2025-09-30 09:20:43,724 [DEBUG] Applying persistent QC in t_u. Filtering 10/5400 samples
2025-09-30 09:20:43,727 [DEBUG] Applying persistent QC in p_i. Filtering 46/5400 samples
2025-09-30 09:20:43,790 [DEBUG] Applying persistent QC in p_u. Filtering 0/5400 samples
2025-09-30 09:20:43,798 [DEBUG] Applying persistent QC in gps_lat_lon. Filtering 0/5400 samples
2025-09-30 09:20:43,802 [DEBUG] Applying persistent QC in gps_alt. Filtering 0/5400 samples
2025-09-30 09:20:43,805 [DEBUG] Applying persistent QC in t_rad. Filtering 0/5400 samples
2025-09-30 09:20:43,807 [DEBUG] Applying persistent QC in rh_i. Filtering 28/5400 samples
2025-09-30 09:20:43,809 [DEBUG] Applying persistent QC in rh_u. Filtering 14/5400 samples
2025-09-30 09:20:43,812 [DEBUG] Applying persistent QC in wspd_i. Filtering 0/5400 samples
2025-09-30 09:20:43,817 [DEBUG] Applying persistent QC in wspd_u. Filtering 0/5400 samples
2025-09-30 09:20:44,116 [INFO] Resampling to 60min
2025-09-30 09:20:44,185 [INFO] Writing to files...
2025-09-30 09:20:44,483 [INFO] Written to L2_test/tx/KPC_Lv3/KPC_Lv3_hour.csv
2025-09-30 09:20:44,483 [INFO] Written to L2_test/tx/KPC_Lv3/KPC_Lv3_hour.nc
2025-09-30 09:20:44,538 [DEBUG] Could not import boto3, continuing with reduced functionality.
2025-09-30 09:20:44,539 [DEBUG] GDAL data found in package: path='/home/bav/miniforge3/lib/python3.12/site-packages/rasterio/gdal_data'.
2025-09-30 09:20:44,539 [DEBUG] PROJ data found in package: path='/home/bav/miniforge3/lib/python3.12/site-packages/rasterio/proj_data'.
2025-09-30 09:20:44,721 [INFO] KPC_Lv3 array loaded from L2_test/tx/KPC_Lv3/KPC_Lv3_hour.nc
2025-09-30 09:20:44,722 [INFO] Only one file found L2_test/tx/KPC_Lv3/KPC_Lv3_hour.nc...
2025-09-30 09:20:44,791 [INFO] Writing to files...
2025-09-30 09:20:45,065 [INFO] Written to L2_test/level_2/KPC_Lv3/KPC_Lv3_hour.csv
2025-09-30 09:20:45,065 [INFO] Written to L2_test/level_2/KPC_Lv3/KPC_Lv3_hour.nc
2025-09-30 09:20:45,065 [INFO] Files saved to L2_test/level_2/KPC_Lv3...
2025-09-30 09:20:45,123 [WARNING] data_issues_path is missing. Using default data issues path: ../PROMICE-AWS-data-issues
2025-09-30 09:20:47,087 [INFO] processing gps_lat without relocation
2025-09-30 09:20:47,090 [INFO] processing gps_lon without relocation
2025-09-30 09:20:47,093 [INFO] processing gps_alt without relocation
2025-09-30 09:20:47,105 [INFO] Using file: ../PROMICE-AWS-data-issues/adjustments/KPC_Lv3.csv
2025-09-30 09:20:47,113 [DEBUG] ---> 2022-07-02 13:00:00 None z_ice_surf add 0.2
2025-09-30 09:20:47,114 [INFO] Combining surface height
2025-09-30 09:20:47,114 [INFO] -> ablation site
2025-09-30 09:20:47,144 [DEBUG] -> estimating ablation period for each year
2025-09-30 09:20:47,145 [DEBUG] 2022 derived from z_ice_surf
2025-09-30 09:20:47,146 [DEBUG] 2023 no z_ice_surf, just using JJA
2025-09-30 09:20:47,146 [DEBUG] 2023 could not estimate ablation season
2025-09-30 09:20:47,146 [DEBUG] 2022: Ablation from 2022-06-11 03:00:00 to 2022-08-20 10:00:00
2025-09-30 09:20:47,152 [DEBUG] adjusting z to hs1
2025-09-30 09:20:47,153 [DEBUG] adjusting hs2 to z
2025-09-30 09:20:47,153 [DEBUG] using end of melt season
2025-09-30 09:20:47,156 [DEBUG] adjusting hs1
2025-09-30 09:20:47,156 [DEBUG] to hs2, minimizing winter difference
2025-09-30 09:20:47,157 [DEBUG] 2023: Ablation from 2022-11-28 02:00:00 to 2022-11-28 02:00:00
2025-09-30 09:20:47,166 [INFO] surface height combination finished
2025-09-30 09:20:47,187 [INFO] Calculating thermistor depth
2025-09-30 09:20:47,204 [INFO] interpolating 10 m firn/ice temperature (on hourly values)
2025-09-30 09:20:47,325 [INFO] Resampling to 60min
2025-09-30 09:20:47,443 [INFO] Writing to files...
2025-09-30 09:20:47,780 [INFO] Written to L3_test/stations/KPC_Lv3/KPC_Lv3_hour.csv
2025-09-30 09:20:47,780 [INFO] Written to L3_test/stations/KPC_Lv3/KPC_Lv3_hour.nc
2025-09-30 09:20:47,818 [INFO] Resampling to 1D
2025-09-30 09:20:47,897 [INFO] Writing to files...
2025-09-30 09:20:48,000 [INFO] Written to L3_test/stations/KPC_Lv3/KPC_Lv3_day.csv
2025-09-30 09:20:48,000 [INFO] Written to L3_test/stations/KPC_Lv3/KPC_Lv3_day.nc
2025-09-30 09:20:48,040 [INFO] Resampling to ME
2025-09-30 09:20:48,119 [INFO] Writing to files...
2025-09-30 09:20:48,219 [INFO] Written to L3_test/stations/KPC_Lv3/KPC_Lv3_month.csv
2025-09-30 09:20:48,220 [INFO] Written to L3_test/stations/KPC_Lv3/KPC_Lv3_month.nc
/n ======== test join_l3 ========= 

KPC_Lv3

 ======== test get_l2 ========= 


 ======== test join_l2 ========= 


 ======== test l2tol3 ========= 

